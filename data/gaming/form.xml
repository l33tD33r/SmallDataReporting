<?xml version="1.0" encoding="UTF-8"?>
<Forms>
    <Form>
        <Name>SelectGame</Name>
        <Title>Select Game</Title>
        <Items>
            <Item id="Game" type="Reference" table="Game"/>
        </Items>
        <Views>
            <View model="Item" item="Game" label="Game" type="DropDown" source="Table" table="Game" />
        </Views>
        <Validations>

        </Validations>
        <Actions>
        </Actions>
        <Outputs>
            <Output type="Console">
                <WriteLine source="Item" item="Game"/>
            </Output>
        </Outputs>
    </Form>
    <Form>
        <Name>CreateLocation</Name>
        <Title>Create Location</Title>
        <Items>
            <Item id="Name" type="String" />
            <Item id="Description" type="String" />
        </Items>
        <Views>
            <View model="Item" item="Name" type="TextField" label="Name" />
            <View model="Item" item="Description" type="TextArea" label="Description" />
        </Views>
        <Validations>

        </Validations>
        <Actions>
            <Action type="Insert" table="Location">
                <Fields>
                    <Field name="Name" source="Item" item="Name"/>
                    <Field name="Description" source="Item" item="Description"/>
                    <Field name="Latitude" source="Value" value="45" type="Number"/>
                    <Field name="Longitude" source="Value" value="90" type="Number"/>
                </Fields>
            </Action>
        </Actions>
    </Form>
    <Form>
        <Name>TestInteger</Name>
        <Title>Test Integer</Title>
        <Items id="Int" type="Integer"/>

    </Form>
    <Form>
        <Name>NewSettlersGame</Name>
        <Title>New Settlers of Catan Game</Title>
        <Items>
            <Item id="Location" type="Reference" table="Location"/>
            <Item id="GameInstance" type="Reference" table="GameInstance"/>
            <Item id="SettlersGameInstance" type="Reference" table="SettlersOfCatan_GameInstance"/>
        </Items>
        <Collections>
            <Collection id="SettlersGamePlayers">
                <Properties>
                    <Property id="Player" type="Reference" table="Player"/>
                    <Property id="Color" type="Reference" table="SettlersOfCatan_Color"/>
                    <Property id="GamePlayer" type="Reference" table="GamePlayer"/>
                </Properties>
            </Collection>
        </Collections>
        <Views>
            <View model="Item" item="Location" label="Location" type="DropDown" source="Table" table="Location" />
            <View model="Collection" collection="SettlersGamePlayers" label="Players" type="Table">
                <Columns>
                    <Column model="Property" property="Player" header="Player" type="DropDown" source="Table" table="Player"/>
                    <Column model="Property" property="Color" header="Color" type="DropDown" source="Table" table="SettlersOfCatan_Color"/>
                </Columns>
            </View>
        </Views>
        <Validations>

        </Validations>
        <Actions>

            <!--
            <Action type="Insert" table="GameInstance" updateItem="GameInstance">
                <Fields>
                    <Field name="Game" source="Value" type="Reference" value="SettlersOfCatan"/>
                    <Field name="Location" source="Item" item="Location" />
                    <Field name="DatePlayed" source="Value" type="Date" value="2015-01-01"/>
                </Fields>
            </Action>
            <Action type="Insert" table="SettlersOfCatan_GameInstance" updateItem="SettlersGameInstance">
                <Fields>
                    <Field name="GameInstance" source="Item" item="GameInstance"/>
                    <Field name="CitiesAndKnights" source="Value" type="Boolean" value="True"/>
                    <Field name="Seafarers" source="Value" type="Boolean" value="False"/>
                </Fields>
            </Action>

            <Action type="BatchInsert" table="GamePlayer" sourceCollection="SettlersGamePlayer" updateProperty="GamePlayer">
                <Fields>
                    <Field name="Player" source="Property" property="Player"/>
                    <Field name="GameInstance" source="Item" item="GameInstance"/>
                    <Field name="WinningRank" source="Value" type="Integer" value="1"/>
                </Fields>
            </Action>

            <Action type="BatchInsert" table="SettlersOfCatan_GamePlayer" sourceCollection="SettlersGamePlayers">
                <Fields>
                    <Field name="GamePlayer" source="Property" property="GamePlayer"/>
                    <Field name="GameInstance" source="Item" item="SettlersGameInstance"/>
                    <Field name="Color" source="Property" property="Color"/>
                    <Field name="StartingPosition" source="Value" type="Integer" value="1"/>
                    <Field name="Points" source="Value" type="Integer" value="13"/>
                    <Field name="Winner" source="Value" type="Boolean" value="True"/>
                </Fields>
            </Action>

            -->

            <!--
            <Action type="Insert" table="GamePlayer" updateItem="GamePlayer">
                <Fields>
                    <Field name="Player" source="Item" item="Player"/>
                    <Field name="GameInstance" source="Item" item="GameInstance"/>
                    <Field name="WinningRank" source="Value" type="Integer" value="1"/>
                </Fields>
            </Action>

            <Action type="Insert" table="SettlersOfCatan_GamePlayer">
                <Fields>
                    <Field name="GamePlayer" source="Item" item="GamePlayer"/>
                    <Field name="GameInstance" source="Item" item="SettlersGameInstance"/>
                    <Field name="Color" source="Item" item="Color"/>
                    <Field name="StartingPosition" source="Value" type="Integer" value="1"/>
                    <Field name="Points" source="Value" type="Integer" value="13"/>
                    <Field name="Winner" source="Value" type="Boolean" value="True"/>
                </Fields>
            </Action>
            -->
        </Actions>
        <Outputs>
            <Output type="Console">
                <WriteLine source="Item" item="Location"/>
                <WriteLine source="Collection" collection="SettlersGamePlayers">
                    <Properties>
                        <Property id="Player"/>
                        <Property id="Color"/>
                    </Properties>
                </WriteLine>
            </Output>
        </Outputs>
    </Form>
    <Form>
        <Name>NewSettlersGame_3_Player</Name>
        <Title>New Settlers of Catan Game (3-Player)</Title>
        <Items>
            <Item id="Location" type="Reference" table="Location"/>
            <Item id="GameInstance" type="Reference" table="GameInstance"/>
            <Item id="SettlersGameInstance" type="Reference" table="SettlersOfCatan_GameInstance"/>
            <Item id="Player_0" type="Reference" table="Player"/>
            <Item id="Player_1" type="Reference" table="Player"/>
            <Item id="Player_2" type="Reference" table="Player"/>
            <Item id="Color_0" type="Reference" table="SettlersOfCatan_Color"/>
            <Item id="Color_1" type="Reference" table="SettlersOfCatan_Color"/>
            <Item id="Color_2" type="Reference" table="SettlersOfCatan_Color"/>
            <Item id="GamePlayer_0" type="Reference" table="GamePlayer"/>
            <Item id="GamePlayer_1" type="Reference" table="GamePlayer"/>
            <Item id="GamePlayer_2" type="Reference" table="GamePlayer"/>
        </Items>
        <Views>
            <View model="Item" item="Location" label="Location" type="DropDown" source="Table" table="Location" />
            <View model="Item" item="Player_0" label="Location" type="DropDown" source="Table" table="Player" />
            <View model="Item" item="Color_0" label="Location" type="DropDown" source="Table" table="SettlersOfCatan_Color" />
            <View model="Item" item="Player_1" label="Location" type="DropDown" source="Table" table="Player" />
            <View model="Item" item="Color_1" label="Location" type="DropDown" source="Table" table="SettlersOfCatan_Color" />
            <View model="Item" item="Player_2" label="Location" type="DropDown" source="Table" table="Player" />
            <View model="Item" item="Color_2" label="Location" type="DropDown" source="Table" table="SettlersOfCatan_Color" />
        </Views>
        <Validations>

        </Validations>
        <Actions>
            <Action type="Insert" table="GameInstance" updateItem="GameInstance">
                <Fields>
                    <Field name="Game" source="Value" type="Reference" value="SettlersOfCatan"/>
                    <Field name="Location" source="Item" item="Location" />
                    <Field name="DatePlayed" source="Value" type="Date" value="2015-01-01"/>
                </Fields>
            </Action>
            <Action type="Insert" table="SettlersOfCatan_GameInstance" updateItem="SettlersGameInstance">
                <Fields>
                    <Field name="GameInstance" source="Item" item="GameInstance"/>
                    <Field name="CitiesAndKnights" source="Value" type="Boolean" value="True"/>
                    <Field name="Seafarers" source="Value" type="Boolean" value="False"/>
                </Fields>
            </Action>

            <Action type="Insert" table="GamePlayer" updateItem="GamePlayer_0">
                <Fields>
                    <Field name="Player" source="Item" item="Player_0"/>
                    <Field name="GameInstance" source="Item" item="GameInstance"/>
                    <Field name="WinningRank" source="Value" type="Integer" value="0"/>
                </Fields>
            </Action>
            <Action type="Insert" table="GamePlayer" updateItem="GamePlayer_1">
                <Fields>
                    <Field name="Player" source="Item" item="Player_1"/>
                    <Field name="GameInstance" source="Item" item="GameInstance"/>
                    <Field name="WinningRank" source="Value" type="Integer" value="0"/>
                </Fields>
            </Action>
            <Action type="Insert" table="GamePlayer" updateItem="GamePlayer_2">
                <Fields>
                    <Field name="Player" source="Item" item="Player_2"/>
                    <Field name="GameInstance" source="Item" item="GameInstance"/>
                    <Field name="WinningRank" source="Value" type="Integer" value="0"/>
                </Fields>
            </Action>

            <Action type="Insert" table="SettlersOfCatan_GamePlayer">
                <Fields>
                    <Field name="GamePlayer" source="Item" item="GamePlayer_0"/>
                    <Field name="GameInstance" source="Item" item="SettlersGameInstance"/>
                    <Field name="Color" source="Item" item="Color_0"/>
                    <Field name="StartingPosition" source="Value" type="Integer" value="1"/>
                    <Field name="Points" source="Value" type="Integer" value="13"/>
                    <Field name="Winner" source="Value" type="Boolean" value="True"/>
                </Fields>
            </Action>
        </Actions>
    </Form>
</Forms>